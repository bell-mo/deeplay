Рассуждения по третьему заданию:

Берем самый простой случай - случайную последовательность sequence[3], и последовательность игрока p[3]. Вероятность совпадения последовательностей 1/(6^3). Это число – матожидание количества очков игрока при n = 3, т. е. M(c(3)), где c (count) – случайная величина, равная количеству очков при заданной длине последовательности n = 3. При n = 4 это число составляет 2/(6^3), поскольку мы можем независимо рассматривать последовательности (1,2,3) и (2,3,4). При n = 6 у нас возникает 2 случая – либо мы рассматриваем первую тройку и последнюю тройку, и матожидание составляет 2/(6^3), либо же искомое совпадение находится где-то посередине последовательности, и вероятность этого составляет 2/(6^3). Наша задача – определить M(c(n)).

Предположим, что нам подходят случаи пересечения интервалов. Положим количество последовательностей p = n – 2.  В таком случае M(c(n)) = (p)/(6^3), так как последовательности 1,2,3; 2,3,4; …, n-2, n-1,n мы можем рассматривать независимо друг от друга. Однако для нашего случая мы знаем, что при совпадении последовательности k(k, k+1, k+2) последовательности k+1 и k+2 мы можем не рассматривать, так как они образуют пересечение с последовательностью k. И мы знаем вероятность того, что эти две последовательности выпадут из списка, она равна 1/(6^3). Т.е. с вероятностью 1/(6^3) p = p – 2 для каждого встреченного совпадения. Экстраполируем рассуждения на всю исходную последовательность и получим M(p) = p – (2 * (p - 2)/(6^3)), или же M(p) = n – 2 – (2 * (n - 4)/(6^3)). Подставим M(p) на место p в формуле M(c(n)) и получим M(c(n)) = (n - 2 - (2 * (n - 4)/(6^3)))/(6^3).

Экспериментально выявлено, что вероятности выигрыша игроков равны вне зависимости от выбранных ими последовательностей, а вероятность ничьей зависит от n и стремится к 1/3, однако, чем меньше n, тем она больше. Связано это с тем, что на малых n c(n) стремится к нулю, а условие ничьей – c1(n) = c2(n)
